(function(b,L){typeof exports=="object"&&typeof module<"u"?module.exports=L(require("react")):typeof define=="function"&&define.amd?define(["react"],L):(b=typeof globalThis<"u"?globalThis:b||self,b.FeedbackWidget=L(b.React))})(this,function(b){"use strict";var L={exports:{}},K={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ye;function Me(){if(ye)return K;ye=1;var d=b,c=Symbol.for("react.element"),B=Symbol.for("react.fragment"),F=Object.prototype.hasOwnProperty,W=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w={key:!0,ref:!0,__self:!0,__source:!0};function M(C,R,z){var E,P={},O=null,A=null;z!==void 0&&(O=""+z),R.key!==void 0&&(O=""+R.key),R.ref!==void 0&&(A=R.ref);for(E in R)F.call(R,E)&&!w.hasOwnProperty(E)&&(P[E]=R[E]);if(C&&C.defaultProps)for(E in R=C.defaultProps,R)P[E]===void 0&&(P[E]=R[E]);return{$$typeof:c,type:C,key:O,ref:A,props:P,_owner:W.current}}return K.Fragment=B,K.jsx=M,K.jsxs=M,K}var G={},_e;function Ne(){if(_e)return G;_e=1;var d={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return d.NODE_ENV!=="production"&&function(){var c=b,B=Symbol.for("react.element"),F=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),R=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),X=Symbol.iterator,D="@@iterator";function le(e){if(e===null||typeof e!="object")return null;var t=X&&e[X]||e[D];return typeof t=="function"?t:null}var T=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function _(e){{for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];Z("error",e,r)}}function Z(e,t,r){{var o=T.ReactDebugCurrentFrame,u=o.getStackAddendum();u!==""&&(t+="%s",r=r.concat([u]));var g=r.map(function(s){return String(s)});g.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,g)}}var Ee=!1,q=!1,ee=!1,de=!1,ue=!1,Y;Y=Symbol.for("react.module.reference");function te(e){return!!(typeof e=="string"||typeof e=="function"||e===W||e===M||ue||e===w||e===E||e===P||de||e===U||Ee||q||ee||typeof e=="object"&&e!==null&&(e.$$typeof===A||e.$$typeof===O||e.$$typeof===C||e.$$typeof===R||e.$$typeof===z||e.$$typeof===Y||e.getModuleId!==void 0))}function ce(e,t,r){var o=e.displayName;if(o)return o;var u=t.displayName||t.name||"";return u!==""?r+"("+u+")":r}function re(e){return e.displayName||"Context"}function l(e){if(e==null)return null;if(typeof e.tag=="number"&&_("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case F:return"Portal";case M:return"Profiler";case w:return"StrictMode";case E:return"Suspense";case P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R:var t=e;return re(t)+".Consumer";case C:var r=e;return re(r._context)+".Provider";case z:return ce(e,e.render,"ForwardRef");case O:var o=e.displayName||null;return o!==null?o:l(e.type)||"Memo";case A:{var u=e,g=u._payload,s=u._init;try{return l(s(g))}catch{return null}}}return null}var I=Object.assign,N=0,$,i,x,y,f,p,v;function ne(){}ne.__reactDisabledLog=!0;function Ue(){{if(N===0){$=console.log,i=console.info,x=console.warn,y=console.error,f=console.group,p=console.groupCollapsed,v=console.groupEnd;var e={configurable:!0,enumerable:!0,value:ne,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}N++}}function $e(){{if(N--,N===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:I({},e,{value:$}),info:I({},e,{value:i}),warn:I({},e,{value:x}),error:I({},e,{value:y}),group:I({},e,{value:f}),groupCollapsed:I({},e,{value:p}),groupEnd:I({},e,{value:v})})}N<0&&_("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var fe=T.ReactCurrentDispatcher,ge;function oe(e,t,r){{if(ge===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ge=o&&o[1]||""}return`
`+ge+e}}var be=!1,ie;{var Je=typeof WeakMap=="function"?WeakMap:Map;ie=new Je}function je(e,t){if(!e||be)return"";{var r=ie.get(e);if(r!==void 0)return r}var o;be=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var g;g=fe.current,fe.current=null,Ue();try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(j){o=j}Reflect.construct(e,[],s)}else{try{s.call()}catch(j){o=j}e.call(s.prototype)}}else{try{throw Error()}catch(j){o=j}e()}}catch(j){if(j&&o&&typeof j.stack=="string"){for(var a=j.stack.split(`
`),S=o.stack.split(`
`),h=a.length-1,m=S.length-1;h>=1&&m>=0&&a[h]!==S[m];)m--;for(;h>=1&&m>=0;h--,m--)if(a[h]!==S[m]){if(h!==1||m!==1)do if(h--,m--,m<0||a[h]!==S[m]){var k=`
`+a[h].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),typeof e=="function"&&ie.set(e,k),k}while(h>=1&&m>=0);break}}}finally{be=!1,fe.current=g,$e(),Error.prepareStackTrace=u}var H=e?e.displayName||e.name:"",V=H?oe(H):"";return typeof e=="function"&&ie.set(e,V),V}function He(e,t,r){return je(e,!1)}function Ke(e){var t=e.prototype;return!!(t&&t.isReactComponent)}function ae(e,t,r){if(e==null)return"";if(typeof e=="function")return je(e,Ke(e));if(typeof e=="string")return oe(e);switch(e){case E:return oe("Suspense");case P:return oe("SuspenseList")}if(typeof e=="object")switch(e.$$typeof){case z:return He(e.render);case O:return ae(e.type,t,r);case A:{var o=e,u=o._payload,g=o._init;try{return ae(g(u),t,r)}catch{}}}return""}var Q=Object.prototype.hasOwnProperty,Te={},ke=T.ReactDebugCurrentFrame;function se(e){if(e){var t=e._owner,r=ae(e.type,e._source,t?t.type:null);ke.setExtraStackFrame(r)}else ke.setExtraStackFrame(null)}function Ge(e,t,r,o,u){{var g=Function.call.bind(Q);for(var s in e)if(g(e,s)){var a=void 0;try{if(typeof e[s]!="function"){var S=Error((o||"React class")+": "+r+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[s]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw S.name="Invariant Violation",S}a=e[s](t,s,o,r,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(h){a=h}a&&!(a instanceof Error)&&(se(u),_("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",o||"React class",r,s,typeof a),se(null)),a instanceof Error&&!(a.message in Te)&&(Te[a.message]=!0,se(u),_("Failed %s type: %s",r,a.message),se(null))}}}var Xe=Array.isArray;function ve(e){return Xe(e)}function Qe(e){{var t=typeof Symbol=="function"&&Symbol.toStringTag,r=t&&e[Symbol.toStringTag]||e.constructor.name||"Object";return r}}function Ze(e){try{return Ce(e),!1}catch{return!0}}function Ce(e){return""+e}function Pe(e){if(Ze(e))return _("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Qe(e)),Ce(e)}var Oe=T.ReactCurrentOwner,qe={key:!0,ref:!0,__self:!0,__source:!0},Ie,Fe;function et(e){if(Q.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return e.ref!==void 0}function tt(e){if(Q.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function rt(e,t){typeof e.ref=="string"&&Oe.current}function nt(e,t){{var r=function(){Ie||(Ie=!0,_("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}}function ot(e,t){{var r=function(){Fe||(Fe=!0,_("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"ref",{get:r,configurable:!0})}}var it=function(e,t,r,o,u,g,s){var a={$$typeof:B,type:e,key:t,ref:r,props:s,_owner:g};return a._store={},Object.defineProperty(a._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(a,"_self",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(a,"_source",{configurable:!1,enumerable:!1,writable:!1,value:u}),Object.freeze&&(Object.freeze(a.props),Object.freeze(a)),a};function at(e,t,r,o,u){{var g,s={},a=null,S=null;r!==void 0&&(Pe(r),a=""+r),tt(t)&&(Pe(t.key),a=""+t.key),et(t)&&(S=t.ref,rt(t,u));for(g in t)Q.call(t,g)&&!qe.hasOwnProperty(g)&&(s[g]=t[g]);if(e&&e.defaultProps){var h=e.defaultProps;for(g in h)s[g]===void 0&&(s[g]=h[g])}if(a||S){var m=typeof e=="function"?e.displayName||e.name||"Unknown":e;a&&nt(s,m),S&&ot(s,m)}return it(e,a,S,u,o,Oe.current,s)}}var pe=T.ReactCurrentOwner,We=T.ReactDebugCurrentFrame;function J(e){if(e){var t=e._owner,r=ae(e.type,e._source,t?t.type:null);We.setExtraStackFrame(r)}else We.setExtraStackFrame(null)}var he;he=!1;function me(e){return typeof e=="object"&&e!==null&&e.$$typeof===B}function Ae(){{if(pe.current){var e=l(pe.current.type);if(e)return`

Check the render method of \``+e+"`."}return""}}function st(e){return""}var De={};function lt(e){{var t=Ae();if(!t){var r=typeof e=="string"?e:e.displayName||e.name;r&&(t=`

Check the top-level render call using <`+r+">.")}return t}}function Le(e,t){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var r=lt(t);if(De[r])return;De[r]=!0;var o="";e&&e._owner&&e._owner!==pe.current&&(o=" It was passed a child from "+l(e._owner.type)+"."),J(e),_('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,o),J(null)}}function Be(e,t){{if(typeof e!="object")return;if(ve(e))for(var r=0;r<e.length;r++){var o=e[r];me(o)&&Le(o,t)}else if(me(e))e._store&&(e._store.validated=!0);else if(e){var u=le(e);if(typeof u=="function"&&u!==e.entries)for(var g=u.call(e),s;!(s=g.next()).done;)me(s.value)&&Le(s.value,t)}}}function dt(e){{var t=e.type;if(t==null||typeof t=="string")return;var r;if(typeof t=="function")r=t.propTypes;else if(typeof t=="object"&&(t.$$typeof===z||t.$$typeof===O))r=t.propTypes;else return;if(r){var o=l(t);Ge(r,e.props,"prop",o,e)}else if(t.PropTypes!==void 0&&!he){he=!0;var u=l(t);_("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",u||"Unknown")}typeof t.getDefaultProps=="function"&&!t.getDefaultProps.isReactClassApproved&&_("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function ut(e){{for(var t=Object.keys(e.props),r=0;r<t.length;r++){var o=t[r];if(o!=="children"&&o!=="key"){J(e),_("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",o),J(null);break}}e.ref!==null&&(J(e),_("Invalid attribute `ref` supplied to `React.Fragment`."),J(null))}}var ze={};function Ye(e,t,r,o,u,g){{var s=te(e);if(!s){var a="";(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(a+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var S=st();S?a+=S:a+=Ae();var h;e===null?h="null":ve(e)?h="array":e!==void 0&&e.$$typeof===B?(h="<"+(l(e.type)||"Unknown")+" />",a=" Did you accidentally export a JSX literal instead of a component?"):h=typeof e,_("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",h,a)}var m=at(e,t,r,u,g);if(m==null)return m;if(s){var k=t.children;if(k!==void 0)if(o)if(ve(k)){for(var H=0;H<k.length;H++)Be(k[H],e);Object.freeze&&Object.freeze(k)}else _("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Be(k,e)}if(Q.call(t,"key")){var V=l(e),j=Object.keys(t).filter(function(pt){return pt!=="key"}),xe=j.length>0?"{key: someKey, "+j.join(": ..., ")+": ...}":"{key: someKey}";if(!ze[V+xe]){var vt=j.length>0?"{"+j.join(": ..., ")+": ...}":"{}";_(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,xe,V,vt,V),ze[V+xe]=!0}}return e===W?ut(m):dt(m),m}}function ct(e,t,r){return Ye(e,t,r,!0)}function ft(e,t,r){return Ye(e,t,r,!1)}var gt=ft,bt=ct;G.Fragment=W,G.jsx=gt,G.jsxs=bt}(),G}var Re;function Ve(){if(Re)return L.exports;Re=1;var d={};return d.NODE_ENV==="production"?L.exports=Me():L.exports=Ne(),L.exports}var n=Ve();const Se="http://localhost:3000/api",we=({workspace:d})=>{const[c,B]=b.useState(null),[F,W]=b.useState(!0),[w,M]=b.useState({}),[C,R]=b.useState(!1),[z,E]=b.useState(!1),[P,O]=b.useState(!1),[A,U]=b.useState(!1),[X,D]=b.useState(!1),[le,T]=b.useState(!1),[_,Z]=b.useState(!1),[Ee,q]=b.useState(null),[ee,de]=b.useState(null),[ue,Y]=b.useState("manual");b.useEffect(()=>{if(!d)return;const x=setTimeout(async()=>{try{const y=await fetch(`${Se}/widget-config?site_id=${d}`);if(!y.ok)throw new Error(`HTTP error! status: ${y.status}`);const f=await y.json();B({...f.config,discount_enabled:f.discount_enabled,discount_code:f.discount_code}),W(!1)}catch(y){console.error("Failed to load widget config:",y),W(!1),B({title:"Feedback Widget",questions:[],discount_enabled:!1,displayMode:"overlay",triggers:{}})}},100);return()=>clearTimeout(x)},[d]),b.useEffect(()=>{if(!c||F)return;const i=c.triggers||{};if(!i.visitCount?.enabled)return;const x=window.location.href,y=sessionStorage.getItem(`feedback_widget_processed_page_${d}`);if(x===y)return;sessionStorage.setItem(`feedback_widget_processed_page_${d}`,x);const f=localStorage.getItem(`feedback_widget_last_page_${d}`);if(x!==f){const v=parseInt(localStorage.getItem(`feedback_widget_visits_${d}`)||"0")+1;if(localStorage.setItem(`feedback_widget_visits_${d}`,v.toString()),localStorage.setItem(`feedback_widget_last_page_${d}`,x),v>=i.visitCount.count){if(localStorage.getItem(`feedback_widget_visit_count_activated_${d}`))return;Y("visit_count"),D(!0),localStorage.setItem(`feedback_widget_visit_count_activated_${d}`,"true")}}else parseInt(localStorage.getItem(`feedback_widget_visits_${d}`)||"0")},[c,F,d]),b.useEffect(()=>{if(!c||F)return;const i=c.triggers||{},x=localStorage.getItem(`feedback_widget_dismissed_${d}`),y=sessionStorage.getItem(`feedback_widget_submitted_${d}`);if(localStorage.getItem(`feedback_widget_submitted_${d}`),y){T(!0);return}if(x){T(!1);return}let f;if(i.pageLoadDelay?.enabled&&i.pageLoadDelay.delay>0){const v=i.pageLoadDelay.delay*1e3;f=setTimeout(()=>{T(!0),p()},v)}else T(!0),p();function p(){if(i.scrollPercentage?.enabled){const v=()=>{window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100>=i.scrollPercentage.percentage&&(Y("scroll_percentage"),D(!0),window.removeEventListener("scroll",v))};window.addEventListener("scroll",v)}if(i.timeOnPage?.enabled){const v=i.timeOnPage.seconds*1e3;setTimeout(()=>{Y("time_on_page"),D(!0)},v)}}return()=>{f&&clearTimeout(f)}},[c,F,d]);const te=(i,x)=>{M(y=>({...y,[i]:x}))},ce=async i=>{i.preventDefault(),Z(!0);let x=null;if(c?.questions){const f=c.questions.find(p=>p.type==="FeatureRequest");f&&w[f.id]&&(x=w[f.id])}const y={...w};c?.questions&&c.questions.forEach(f=>{if(f.type==="rating"&&w[f.id]){const p=f.max||5,v=Math.round(w[f.id]/p*10);y[f.id]=v}});try{const f=await fetch(`${Se}/submit-feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_id:d,answers:y,page_url:window.location.href,user_agent:navigator.userAgent,referrer:document.referrer,triggered_by:ue,feature_request:x})});if(f.ok){const p=await f.json();R(!0);const v=localStorage.getItem(`feedback_widget_submitted_${d}`);p.discount_code&&!v?(de(p.discount_code),localStorage.setItem(`feedback_widget_submitted_${d}`,"true")):(p.discount_code,console.log(" ")),sessionStorage.setItem(`feedback_widget_submitted_${d}`,"true")}else q("Failed to submit feedback")}catch(f){console.error("🌐 Network error:",f),q("Network error")}Z(!1)},re=()=>{U(!1),T(!1),localStorage.setItem(`feedback_widget_dismissed_${d}`,"true")};if(!d)return n.jsx("div",{children:"Widget not configured: workspace ID missing."});if(F)return n.jsx("div",{children:"Loading widget..."});const l=c?.colors||{},I=c?.showHeader&&(c.showBrandLogo||c.showBrandName)&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,width:"100%",background:l.headerBackground||"#1976d2",borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:0,borderBottomRightRadius:0,padding:"10px 16px",boxSizing:"border-box"},children:[c.showBrandLogo&&c.brandLogo&&n.jsx("img",{src:c.brandLogo,alt:"Brand Logo",style:{height:36,width:36,objectFit:"contain",borderRadius:8,background:"#fff"}}),c.showBrandName&&c.brandName&&n.jsx("span",{style:{fontWeight:700,fontSize:18,color:l.brandNameColor||"#fff"},children:c.brandName})]}),N=n.jsxs("div",{style:{border:"1px solid #e0e0e0",borderRadius:16,background:l.background||"#fff",maxWidth:360,boxShadow:"0 4px 24px rgba(0,0,0,0.08)",fontFamily:"Inter, Arial, sans-serif",padding:0},children:[I,n.jsxs("div",{style:{padding:20,borderBottomLeftRadius:16,borderBottomRightRadius:16},children:[n.jsx("h3",{style:{margin:"0 0 16px 0",fontWeight:600,fontSize:20,color:l.titleText||"#222"},children:"Thank you for your feedback!"}),ee&&n.jsxs("div",{style:{marginTop:12,color:l.labelText||"#1976d2",fontWeight:600},children:["Your discount code: ",n.jsx("b",{children:ee})]})]})]}),$=n.jsxs("div",{style:{border:"1px solid #e0e0e0",borderRadius:16,background:l.background||"#fff",width:"fit-content",maxWidth:320,boxSizing:"border-box",boxShadow:"0 4px 24px rgba(0,0,0,0.08)",fontFamily:"Inter, Arial, sans-serif",padding:0},children:[I,n.jsxs("div",{style:{padding:20,borderBottomLeftRadius:16,borderBottomRightRadius:16,width:"100%",boxSizing:"border-box"},children:[n.jsx("h3",{style:{margin:"0 0 16px 0",fontWeight:600,fontSize:20,color:l.titleText||"#222"},children:c?.title||"Feedback Widget"}),n.jsxs("form",{onSubmit:ce,style:{width:"100%"},children:[(c?.questions||[]).map((i,x)=>{const f=i.type==="FeatureRequest"?l.featureLabelText||"#000":l.labelText||"#000";return n.jsxs("div",{style:{marginBottom:18,width:"100%"},children:[n.jsx("label",{style:{display:"block",fontWeight:500,marginBottom:6,color:f},children:`${x+1}. ${i.label}`}),i.type==="rating"?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,marginTop:4},children:[Array.from({length:i.max||5},(p,v)=>v+1).map(p=>{const v=(w[i.id]||0)>=p;return n.jsx("span",{style:{cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"filter 0.2s"},onClick:()=>te(i.id,p),children:n.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:v?"#ffd700":"#fff",stroke:"#000",strokeWidth:"0.5",strokeLinejoin:"round",style:{display:"block"},children:n.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26",fill:v?"#ffd700":"#fff",stroke:"#000",strokeWidth:"0.5"})})},p)}),w[i.id]&&n.jsxs("span",{style:{marginLeft:8,color:"#888",fontSize:14},children:[w[i.id]," / ",i.max||5]})]}):n.jsx("textarea",{rows:i.rows||1,style:{width:"100%",minHeight:32,maxHeight:120,resize:"none",padding:8,border:"0.5px solid #000",borderRadius:6,fontSize:15,fontFamily:"inherit",overflow:"auto",boxSizing:"border-box",background:l.fieldBackground||"#fff",color:l.fieldText||"#000"},onChange:p=>te(i.id,p.target.value),value:w[i.id]||""})]},i.id)}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:12,width:"100%"},children:[n.jsx("button",{type:"submit",style:{flex:1,background:l.button||"#1976d2",color:l.buttonText||"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(25, 118, 210, 0.08)",transition:"background 0.2s",minWidth:0},children:"Submit"}),c?.displayMode==="overlay"&&n.jsx("button",{type:"button",onClick:()=>U(!1),style:{width:"48px",flexShrink:0,background:"#ff4444",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:"×"})]})]})]})]});return c?.displayMode==="overlay"?n.jsxs(n.Fragment,{children:[le&&n.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999},children:n.jsx("button",{onClick:()=>{Y("manual"),U(!A)},style:{width:"60px",height:"60px",borderRadius:"50%",background:l.button||"#1976d2",color:l.buttonText||"#fff",border:"none",fontSize:"24px",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s"},onMouseEnter:i=>{i.currentTarget.style.transform="scale(1.1)"},onMouseLeave:i=>{i.currentTarget.style.transform="scale(1)"},children:"💬"})}),X&&n.jsx("div",{style:{position:"fixed",bottom:"100px",right:"20px",zIndex:1e4,maxWidth:"280px",width:"fit-content"},children:n.jsxs("div",{style:{background:l.background||"#fff",border:"1px solid #e0e0e0",borderRadius:16,boxShadow:"0 8px 32px rgba(0,0,0,0.15)",padding:20,fontFamily:"Inter, Arial, sans-serif"},children:[n.jsx("div",{style:{fontWeight:600,fontSize:16,color:l.titleText||"#222",marginBottom:16,textAlign:"center"},children:"Would you like to give feedback?"}),n.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[n.jsx("button",{onClick:()=>{D(!1),Y("manual"),U(!0)},style:{background:l.button||"#1976d2",color:l.buttonText||"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,fontSize:14,cursor:"pointer"},children:"Yes"}),n.jsx("button",{onClick:()=>{D(!1),localStorage.setItem(`feedback_widget_dismissed_${d}`,"true")},style:{background:"#6c757d",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,fontSize:14,cursor:"pointer"},children:"No"})]})]})}),A&&n.jsx("div",{style:{position:"fixed",bottom:"100px",right:"20px",zIndex:1e4,maxWidth:"350px",width:"fit-content"},children:n.jsxs("div",{style:{position:"relative",maxHeight:"500px",overflow:"hidden",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0,0,0,0.15)",width:"fit-content"},children:[C&&n.jsx("button",{onClick:re,style:{position:"absolute",top:"8px",right:"8px",background:"rgba(0,0,0,0.1)",border:"none",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",color:"#666",zIndex:1},children:"✕"}),C?N:$]})})]}):c?.displayMode==="inline"?n.jsxs(n.Fragment,{children:[X&&n.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1e4,maxWidth:"280px",width:"fit-content"},children:n.jsxs("div",{style:{background:l.background||"#fff",border:"1px solid #e0e0e0",borderRadius:16,boxShadow:"0 8px 32px rgba(0,0,0,0.15)",padding:20,fontFamily:"Inter, Arial, sans-serif"},children:[n.jsx("div",{style:{fontWeight:600,fontSize:16,color:l.titleText||"#222",marginBottom:16,textAlign:"center"},children:"Would you like to give feedback?"}),n.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[n.jsx("button",{onClick:()=>{D(!1),O(!0)},style:{background:l.button||"#1976d2",color:l.buttonText||"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,fontSize:14,cursor:"pointer"},children:"Yes"}),n.jsx("button",{onClick:()=>{D(!1),localStorage.setItem(`feedback_widget_dismissed_${d}`,"true")},style:{background:"#6c757d",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,fontSize:14,cursor:"pointer"},children:"No"})]})]})}),P&&$]}):$};return typeof window<"u"&&(window.FeedbackWidget=we),we});
